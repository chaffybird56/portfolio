
"use client";

import { useEffect, useRef } from "react";

const D ="m61.955429 336.15315c-8.522545 9.76282-16.626076 19.9686-25.98534 28.96683-6.918694 6.65179-13.613234 9.22201-17.01466 19.03317 9.47282 1.82346 18.040897-11.01282 23.999229-17 9.730442-9.77759 17.423584-23.97208 28.290122-32.29785 5.96587-4.57095 17.48333-7.62094 24.71065-9.70215-0.0855 10.32187-1.00401 20.62024-1 31 2e-3 4.77612 0.43092 9.29431 1.25 14 0.83054 4.77155 1.72833 10.01202 5.28241 13.60571 7.86562 7.95328 20.50745 0.11664 26.13889-6.60956 11.96868-14.29553 15.69128-20.96463 2.79937-48.99615-2.83655-6.16766-9.33789-10.08185-15.47067-13v-1c23.82167-11.13513 46.15552-29.02014 65-47.03937 4.89993-4.68533 9.9239-9.44262 13.91049-14.94211 1.35991-1.87597 3.12285-5.19232 5.98456-4.41821 3.57301 0.96652 2.96211 5.71091 2.43906 8.39969-1.7206 8.84479-4.51192 17.45691-7.33489 26-8.84584 26.76993-18.47113 53.61182-28.42438 80-3.11288 8.25293-7.84266 15.6203-10.57484 24 9.33493-1.45264 12.11389-13.05756 16.74844-20 7.75928-11.62323 17.4489-21.5787 28.25156-30.38504 4.16548-3.39569 9.53003-8.30402 14.98457-9.3588 6.61464-1.27911 5.76175 6.67188 5.09568 10.74384-1.53269 9.36969-8.96614 28.22672 0.0532 35.48611 5.99002 4.82117 14.08005 0.80631 19.86652-2.26773 11.12317-5.90918 19.09854-16.67907 25.57178-27.21838 2.8587-4.65433 4.37918-10.29892 8.42822-14l1.82947 17-4.82944 22c14.00604-3.9422 18.49591-26.43201 29.17053-35.46759 9.89166-8.37283 17.81064-1.79269 17.82947 9.46759v13c14.7561-2.28351 12.995-26.98398 31-26.6412 21.3848 0.4071-0.46411 26.00161 7.60339 33.89892 4.2566 4.16678 11.72568 0.0947 15.38196-2.78705 11.336-8.93448 17.1727-21.86053 30.01465-29.47067-5.26065 9.24387-10.6918 17.24911-12.53549 28-0.80594 4.69962-0.0822 10.8194 5.5787 11.75696 14.40497 2.38574 26.87433-15.65473 36.95679-22.75696-1.52817 6.4187-2.82001 17.34973 1.65277 22.85187 8.3656 10.29077 21.82806-4.96283 24.34723-12.85187h1c-2.57565 13.87408 3.3237 21.63846 17 13.5463 11.64856-6.89237 23.17523-19.28788 29-31.5463h1c1.23422 15.63849 7.30817 31.55182 24 36.07251 5.51617 1.49399 10.5022 0.0656 16 0.30634 7.73206 0.33859 11.63403 1.80151 19-2.24381 11.48383-6.30679 21.38062-14.86752 30.83026-23.8349 4.65845-4.42065 9.43079-11.39825 15.16974-14.27237 4.05719-2.03186 9.6087-0.87485 14-1.06714 7.34631-0.32171 14.64166-1.80871 22-1.96063 0 14.96985 0.0559 44.04657 17.00385 50.99072 18.36047 7.52295 32.13421-20.09967 29.67053-34.99072-1.81848-10.99139-10.28986-15.15686-16.67438-23 15.99011-1.30603 30.33667-10.93002 43-20-2.13702 15.87039-7.81256 31.8201-5.07947 48 1.58722 9.3963 7.64752 16.8598 18.07947 14.2384 3.11462-0.78265 6.17023-2.05584 9-3.5617 5.06116-2.6933 9.30115-6.4668 14-9.6767 0.78851 3.27264 0.67731 7.922 3.43365 10.25772 7.77668 6.58994 15.87714-6.91202 16.56635-13.25772-10.01129 1.27222-5.98285-9.6427-12.30322-11.16821-3.1781-0.76709-6.49054 2.99615-8.69678 4.71606-4.46448 3.48041-10.98969 7.88837-17 6.55863-10.16156-2.24814-12.76154-14.23276-11.71448-23.10648 1.36603-11.57672 2.20648-25.21863 6.92743-36 2.60877-5.9577 7.06452-11.16406 10.03089-17 5.86663-11.54184 10.27465-23.28778 12.75543-36 0.54822-2.80911 2.79596-11.27643-1.31336-12.53857-3.1228-0.95914-6.01336 3.46551-7.46521 5.54242-5.23169 7.484-8.72479 16.48754-11.90124 24.99615-3.75611 10.06131-5.8689 26.63193-12.74927 34.81558-13.72742 16.32758-43.38715 18.22122-62.57019 23.18442 2e-3 -20.8996 2.58856-44.96329 8.77393-65 4.5072-14.60046 13.0946-27.11859 13.22607-43-11.25146 1.7373-14.57782 17.767-17.66669 27-3.04754 9.10934-4.63159 19.31168-8.65741 28-7.57806 16.35458-19.45153 31.60666-30.70062 45.57483-6.46155 8.02338-11.16498 4.51889-18.93518 8.60419-5.26544 2.76837-7.74976 9.39117-9.0401 14.82098l5 2c-7.15186 9.94336-19.04047 18.06967-29 25.08719-3.2674 2.30221-8.67926 6.3573-12.89197 6.20447-3.21185-0.11655-4.9834-4.2862-8.10803-5.29166-4.16577 4.51825-9.38684 2.37201-14-0.7963-8.60156-5.90759-15.91382-14.66058-17.67438-25.2037-2.3363-13.99106 2.83521-26.17334 7.331-39 6.70202-19.12103 15.17358-40.48737 15.34338-61-8.43317 3.3382-11.31616 13.11276-14.31635 21-7.33917 19.29398-18.24945 42.07822-18.68365 63-14.96429-2.77805-32.69955 0.62665-42.48224 13.00076-4.78741 6.05561-8.63815 13.20343-12.26312 19.99848-1.25769 2.35751-2.93314 6.51315-6.28241 6.07946-5.52805-0.71578-5.94949-7.91076-5.97147-12.0787-0.0457-8.67413 0.68927-17.32156 0.88352-26 0.0786-3.51151 0.93902-8.66293-3.03241-10.39661-6.3949-2.79159-13.24195 1.66605-18.85187 4.05942-13.40897 5.72067-23.41827 8.05844-33.91049 19.33719-4.21277 4.52856-10.16568 16.37009-17.03473 16.86343-4.95804 0.35611-3.61371-5.966-3.05402-8.86343 1.50647-7.79889 5.70624-22.30542-5.0054-25.42749-12.75769-3.71841-26.53744 6.74295-31.99536 17.42749h-1c-0.23514-2.9794-0.52499-6.07828-1.18903-8.99924-1.78277-7.84207-9.98748-9.25879-16.81097-7.20059-12.46915 3.76114-17.45947 16.92627-26 25.19983 0-3.97836 0.22595-8.03738-0.17053-12-0.97641-9.75873-8.29355-22.44745-17.02545-9.99536-3.37311 4.81021-3.20166 10.61954-5.0517 15.99536-3.58743 10.42441-17.51627 29.2547-30.73689 25.33255-5.76642-1.71072-6.27974-7.16092-5.92592-12.33255 0.64078-9.36597 7.02083-21.73489 3.16821-30.94138-2.93016-7.0021-11.76701-2.73687-16.25772 0.01-13.77815 8.42795-24.67952 20.61087-36 31.93134 9.3777-28.82016 21.33549-56.80878 29.57176-86 1.62915-5.77408 8.56391-25.26599 0.28395-28.35648-8.55935-3.19479-23.35293 11.32889-28.85571 16.44599-9.44794 8.7857-17.48814 19.06766-27.01466 27.73764-12.53875 11.41142-29.6809 21.93458-44.98534 29.17289 0.89079-11.19333 2.84884-24.59634 7.19907-35 6.63776-15.87427 16.91542-30.34344 23.81595-46.20468 2.57028-5.90793 13.20811-22.99252 7.95719-29.17264-2.91464-3.43042-7.99618 2.38135-9.78779 4.38196-6.42122 7.17026-9.53954 16.80954-13.69787 25.40472-12.3779 25.5849-17.55449 48.94025-40.320984 68.7331-3.50148 3.04413-5.831526 11.86551-10.165566 12.43316-13.183942 1.72678-41.066937 3.23197-41.522378 22.42053-0.29707 12.516 23.737915 7.26786 30.522377 6.00385m77.000001-127c-1.14204 13.96341-10.07349 28.14395-17 40l-6.93566 9.41519c2.87077-12.40897 13.85404-41.0614 23.93566-49.41519m614.77393 25.79996-4.18262 4.44784 3.12175-7.10003m-1.53044 17.05658-10.18262 21.79565-11.34351 18.30006 19.26091-51.23488 3.85653 0.79565m-99.77393 41.13917c0.98334 9.67358-0.79291 28.25775-5 37l-20-2 25-35m134 3-1-1c-11.79736 3.50409-24.30182 21.6709-16.86035 33.89197 3.43573 5.64248 12.09308 6.31463 15.24463 0.0532 3.37262-6.70053-5.357-13.92081-4.74073-20.8912 0.37281-4.21648 6.02033-7.57079 7.35645-12.05397m-683.74854 16.50292-4.25146 9.49708-18.643256-2.63742 26.374236-32.85377m-31.73098 45.49119v1c-7.253877 2.71738-24.571694 15.77169-31.304367 5.38696 7.017248-16.1176 24.09351-8.24349 32.36524-8.24349m30.939127 8.85653c5.12787 3.15311 9.74426 6.38327 13.69907 11.00076 5.40396 6.30945 10.29353 15.40634 8.83256 23.99924-1.18083 6.94522-6.60635 13.71814-14.49151 11.5625-4.31956-1.18088-10.89126-4.18987-12.10014-8.12975-2.80817-9.15219-1.03693-29.92405 4.06002-38.43275m327 7c-3.13971 8.98465-11.51215 15.67944-20 19.67285-3.2645 1.53589-9.25479 3.93475-11.81714 9e-3 -4.983-7.63397 20.34702-32.29176 27.60849-33.89665 5.37152-1.18719-0.93094 12.58866 4.20865 14.21455m67 3c-1.88876 4.23776-4.83243 7.65021-8.03937 11-2.1998 2.29779-4.45263 4.64392-6.96063 6.60956-3.51175 2.75238-13.81165 8.99161-15.66669 1.33179-2.33969-9.66105 12.99398-29.77381 21.93191-29.66398 3.17984 0.0391 5.93763 9.42472 8.73478 10.72263m161-1c9.83344 3.40918 18.74994 10.68393 21.6991 21 0.86432 3.02332 2.69684 9.59998-1.13275 11.38116-3.81635 1.77503-8.68616-1.91159-11.03779-4.56634-5.39483-6.08996-11.49719-19.5867-9.52856-27.81457m-190 1-1 1 1-1m-2 2-1 1 1-1m-1 2-1 1z"

export default function Signature({
  width = 290,
  height = 205,
  strokeWidth = 4.8,
  drawDurationMs = 3900,
  className = "",
}) {
  const strokeRef = useRef(null);

  useEffect(() => {
    const el = strokeRef.current;
    if (!el) return;
    const L = el.getTotalLength();
    el.style.strokeDasharray = String(L);
    el.style.strokeDashoffset = String(L);
    void el.getBoundingClientRect();
    el.style.transition = `stroke-dashoffset ${drawDurationMs}ms ease-in-out`;
    el.style.strokeDashoffset = "0";
  }, [drawDurationMs]);

  return (
    <svg
      width={width}
      height={height}
      viewBox="-10 0 835 295"
      aria-label="Ahmad Ali signature"
      className={`block ${className}`}   
    >
      <path d={D} fill="currentColor" fillRule="evenodd" opacity="0.14" />
      <path
        ref={strokeRef}
        d={D}
        fill="none"
        stroke="currentColor"
        strokeWidth={strokeWidth}
        strokeLinecap="round"
        strokeLinejoin="round"
        opacity="0.85"
      />
    </svg>
  );
}